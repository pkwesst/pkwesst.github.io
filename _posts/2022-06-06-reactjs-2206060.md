---

layout: single
title: "[ReactJS] useMemo"
categories: ReactJS
tag: [ReactJS]

toc: true
toc_sticky: true
published: true
future: true

date: 2022-06-06
last_modified_at: 2022-06-06

---

## âœ…Â React.memo()

- `ë™ì¼í•œ prop`ì„ ì£¼ë©´ `ë™ì¼ ê²°ê³¼`ë¥¼ ë°˜í™˜
- ì´ ê³¼ì •ì€ `ë¦¬ë Œë”ë§ ì—†ì´` ì´ë£¨ì–´ì§  

### ğŸ’¡Â ì–¸ì œ ì‚¬ìš©?  

- `ë¦¬ë Œë”ë§í•˜ê³  ì‹¶ì§€ ì•Šì€` ì»´í¬ë„ŒíŠ¸ë¥¼ ê°ì‹¸ë©´, propsê°€ ë³€í™”í•˜ì§€ ì•ŠëŠ” ì´ìƒ ë¦¬ë Œë”ë§í•˜ì§€ ì•ŠëŠ” ê°•í™”ëœ ì»´í¬ë„ŒíŠ¸ë¡œ ìµœì í™”
- ë‹¨ ìê¸° ìì‹ ì˜ stateê°€ ë°”ë€Œë©´ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë Œë”ë§ ì´ë£¨ì–´ì§  


### ì˜ˆì‹œ  

```jsx
import React, { useState, useEffect } from "react";

```

- import  

```jsx
const [count, setCount] = useState(1);
```

- countë¥¼ `state`ë¡œ ê´€ë¦¬
- countì˜ ì´ˆê¸°ê°’ì€ 1
- countëŠ” `setCount í•¨ìˆ˜`ë¡œ `ìƒíƒœ ë³€í™”` ê´€ë¦¬í•¨  

```jsx
<div>
    <h2>count</h2>
    <button onClick={() => setCount(count + 1)}>+</button>
</div>
```

- button íƒœê·¸ë¥¼ ìƒì„±
- `onClick ì´ë²¤íŠ¸`ë¡œ setCount í•¨ìˆ˜ë¥¼ ì‹¤í–‰ì‹œí‚´
- `setCount`ëŠ” stateë¡œ ê´€ë¦¬í•˜ëŠ” countë¥¼ count + 1ë¡œ ìƒíƒœ ë³€í™” ì¼ìœ¼í‚´  

```jsx
const [text, setText] = useState("");
```

- textë¥¼ `state`ë¡œ ê´€ë¦¬
- textì˜ `ì´ˆê¸°ê°’`ì€ ë¹ˆ ë¬¸ìì—´
- textëŠ” `setTextí•¨ìˆ˜`ë¡œ `ìƒíƒœ ë³€í™”` ê´€ë¦¬í•¨  

```jsx
<div>
	<h2>text</h2>
	<input value={text} onChange={(e) => setText(e.target.value)} />
</div>
```

- input íƒœê·¸ ìƒì„±
- inputì— ì…ë ¥í•œ ê°’ì€ text propì— ì „ë‹¬ â‡’ value = {text}
- input íƒœê·¸ì— ë³€í™”ê°€ ê°ì§€ë˜ë©´(`ì´ë²¤íŠ¸ ë°œìƒ`) setText í•¨ìˆ˜ ì‹¤í–‰
- setText í•¨ìˆ˜ëŠ” ì´ë²¤íŠ¸ì˜ targetì˜ value ê°’ì„ textì— ì €ì¥
    - â‡’ inputì— ì‘ì„±í•œ ê¸€ì„ ë³€ìˆ˜ textì— ì €ì¥  

```jsx
const Countview = React.memo(({ count }) => {
  useEffect(() => {
    console.log(`Update :: Count : ${count}`);
  });
  return <div>{count}</div>;
});
```

- countë¥¼ propìœ¼ë¡œ ì „ë‹¬ â‡’ return <div>`{count}`</div>  

### ğŸ’¡Â React.memo ì ìš©í•œ ì´ìœ ?  

- Textview ì»´í¬ë„ŒíŠ¸ì˜ propì¸ textê°€ ë³€í™” â‡’
- `stateê°€ ë³€í™”`í•˜ë¯€ë¡œ ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ì¸ OptimizeTestê°€ `ë Œë”ë§` â‡’
- ì´ ê³¼ì •ì—ì„œ propì´ countì¸ Countview ì»´í¬ë„ŒíŠ¸ë„ ë Œë”ë§ === `ìƒê´€ì—†ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë Œë”ë§` â‡’
- ì„±ëŠ¥ ë‚­ë¹„ â‡’
- ì´ë¥¼ í•´ê²°í•˜ê³ ì React.memo ì ìš©  

```jsx
const Textview = React.memo(({ text }) => {
  useEffect(() => {
    console.log(`Update :: Text : ${text}`);
  });
  return <div>{text}</div>;
});

```

- Textview ì»´í¬ë„ŒíŠ¸ ì—­ì‹œ Countview ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœë³€í™”ì— ì˜í•œ ë Œë”ë§ê³¼ ìƒê´€ì—†ì´ ë Œë”ë§ë˜ì§€ ì•Šê²Œ ê´€ë¦¬ â‡’ `React.memo()`ì‚¬ìš©
- Textviewê°€ ë³€í™”í•  ë•Œ Textview ì»´í¬ë„ŒíŠ¸ë§Œ ë Œë”ë§
- Textviewê°€ ë³€í™”í•  ë•Œ Countview ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ë˜ì§€ ì•ŠìŒ  

